{"version":3,"file":"get-declension.min.js","sources":["../node_modules/@dubaua/merge-options/dist/merge-options.min.mjs","../get-declension.js"],"sourcesContent":["function o(o,e){return Object.prototype.hasOwnProperty.call(o,e)}function e(o){return null!==o&&\"object\"==typeof o&&!1===Array.isArray(o)}function t(e){var t=e.optionConfig,i=e.userOptions,r=void 0===i?{}:i,n=e.preffix,f=void 0===n?\"\":n,a=e.suffix,u=void 0===a?\"\":a,p=e.strict,d=void 0===p||p,c=function(o){return[f,o,u].join(\" \")},s={};for(var l in t)if(o(t,l)){var g=t[l],v=g.required,y=g.default,b=g.description,x=g.validator,h=r[l],q=!!o(g,\"required\")&&(\"function\"==typeof v?v(r):v),E=o(r,l),w=x(h,r);if(q){if(!E)throw new TypeError(c(l+\" is required.\"));if(!w)throw new TypeError(c(\"Expected \"+l+\" to be \"+b+\", got \"+typeof h+\" \"+h+\".\"));s[l]=h}else if(s[l]=y,E)if(w)s[l]=h;else{if(d)throw new TypeError(c(\"Expected \"+l+\" to be \"+b+\", got \"+typeof h+\" \"+h+\".\"));console.warn(c(\"Expected \"+l+\" to be \"+b+\", got \"+typeof h+\" \"+h+\". Fallback to default value \"+y+\".\"))}}return s}var i=\"[mergeOptions]:\",r=\"\\nCheck out documentation https://github.com/dubaua/merge-options#parameters-and-return\";function n(o){throw new TypeError([i,o,r].join(\" \"))}var f={optionConfig:{required:!0,validator:function(t){for(var i in t)if(o(t,i)){var r=t[i];if(e(r)||n(\"Expected optionConfig.\"+i+\" to be an object with declarative option configuration, got \"+typeof r+\" \"+r+\".\"),o(r,\"required\")){var f=r.required,a=typeof f;\"boolean\"!==a&&\"function\"!==a&&n(\"Expected optionConfig.\"+i+\".required to be either boolean or function, got \"+typeof f+\" \"+f+\".\")}else o(r,\"default\")||n(\"Expected optionConfig.\"+i+\" to either have required or default value.\");if(o(r,\"default\")||o(r,\"required\")||n(\"Expected optionConfig.\"+i+\" to either have required or default value.\"),o(r,\"description\")){var u=r.description;\"string\"!=typeof r.description&&n(\"Expected optionConfig.\"+i+\".description to be a string, got \"+typeof u+\" \"+u+\".\")}else n(\"Missing description on optionConfig.\"+i+\" config.\");if(o(r,\"validator\")){var p=r.validator;\"function\"!=typeof r.validator&&n(\"Expected optionConfig.\"+i+\".validator to be a function, got \"+typeof p+\" \"+p+\".\")}else n(\"Missing validator on optionConfig.\"+i+\" config.\")}return e(t)},description:\"an object with declarative option configuration\"},userOptions:{required:!1,default:{},validator:e,description:\"an object\"},preffix:{required:!1,default:\"\",validator:function(o){return\"string\"==typeof o},description:\"a string\"},suffix:{required:!1,default:\"\",validator:function(o){return\"string\"==typeof o},description:\"a string\"},strict:{required:!1,default:!0,validator:function(o){return\"boolean\"==typeof o},description:\"a boolean\"}};export default function(o){var e=t({optionConfig:f,userOptions:o,preffix:i,suffix:r});return t(e)}\n//# sourceMappingURL=merge-options.min.mjs.map\n","// TODO this doesn't work without /node_modules/ possible microbundle or rollup bug\nimport mergeOptions from '/node_modules/@dubaua/merge-options';\n\nconst OPTION_CONFIG = {\n  count: {\n    required: true,\n    validator: (x) => typeof x === 'number' && isFinite(x),\n    description: 'a finite number',\n  },\n  one: {\n    required: true,\n    validator: (x) => typeof x === 'string',\n    description: 'a string',\n  },\n  few: {\n    required: true,\n    validator: (x) => typeof x === 'string',\n    description: 'a string',\n  },\n  many: {\n    required: true,\n    validator: (x) => typeof x === 'string',\n    description: 'a string',\n  },\n};\n\n/**\n * Merges given count and on of declensions: one, few or many into a string\n * Соединяет переданное число и одно из трех склонений числительных в строку\n * @param {Object} config - необходимая конфигурация из числа, и склонений для количеств один, несколько и много\n * @param {number} config.count - количество чего-нибудь\n * @param {string} config.one - слово, описывающее один\n * @param {string} config.few - слово, описывающее несколько\n * @param {string} config.many - слово, описывающее много\n * @example\n * getDeclension({ count: 5, one: 'ребёнок', few: 'ребёнка', many: 'детей' });\n * // 5 детей\n * @return {string} строка из числа и нужного склонения\n */\n\nfunction getDeclension(config) {\n  const validConfig = mergeOptions({\n    optionConfig: OPTION_CONFIG,\n    userOptions: config,\n    preffix: '[getDeclension]:',\n    suffix: '\\nCheck out documentation https://github.com/dubaua/get-declension',\n  });\n  const { count, one, few, many } = validConfig;\n\n  const isFactional = Math.round(count) !== count;\n  let declension = many;\n  if (isFactional) {\n    declension = few;\n  } else {\n    const units = Math.abs(count % 10);\n    const tens = Math.abs(count % 100);\n    if (units === 1 && tens !== 11) {\n      declension = one;\n    } else if (2 <= units && units <= 4 && (tens < 10 || 20 <= tens)) {\n      declension = few;\n    }\n  }\n  return `${count} ${declension}`;\n}\n\nexport default getDeclension;\n"],"names":["o","e","Object","prototype","hasOwnProperty","call","Array","isArray","t","optionConfig","i","userOptions","r","n","preffix","f","a","suffix","u","p","strict","d","c","join","s","l","g","v","required","y","default","b","description","x","validator","h","q","E","w","TypeError","console","warn","OPTION_CONFIG","count","isFinite","one","few","many","config","validConfig","mergeOptions","declension","Math","round","units","abs","tens"],"mappings":"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"}